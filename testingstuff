local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

--  Variables
_G.BallName = "MPS"
_G.Magnitude = 15
_G.Enabled = true
_G.Path = nil

local player = game.Players.LocalPlayer
local mouse = player:GetMouse()

local character = player.Character or player.CharacterAdded:Wait()
local leg = character["Right Leg"]
local leftArm = character["Left Arm"]
local rightArm = character["Right Arm"]
local torso = character:FindFirstChild("Torso") or character:FindFirstChild("UpperTorso")
local head = character.Head

local function touchBall(ball)
    if (ball.Position - character.HumanoidRootPart.Position).Magnitude <= _G.Magnitude then
        firetouchinterest(rightArm, ball, 0)
        firetouchinterest(torso, ball, 0)
        firetouchinterest(leftArm, ball, 0)
        firetouchinterest(leg, ball, 0)
        firetouchinterest(head, ball, 0)
        wait()
        firetouchinterest(rightArm, ball, 1)
        firetouchinterest(torso, ball, 1)
        firetouchinterest(leftArm, ball, 1)
        firetouchinterest(leg, ball, 1)
        firetouchinterest(head, ball, 1)
    end
end

local function reachBalls()
    for _, ball in pairs(game.Workspace:GetDescendants()) do
        if ball.Name == _G.BallName then
            if _G.Path == nil then
                _G.Path = ball.Parent
            end
            touchBall(ball)
        end
    end

    if _G.Path then
        for _, ball in pairs(_G.Path:GetChildren()) do
            if ball.Name == _G.BallName then
                touchBall(ball)
            end
        end
    end
end

mouse.KeyDown:Connect(function()
    if _G.Enabled then
        reachBalls()
    end
end)

mouse.Button1Down:Connect(function()
    if _G.Enabled then
        reachBalls()
    end
end)

setsimulationradius(math.huge, math.huge)

-- UI Setup
local Window = Rayfield:CreateWindow({
    Name = "Niagra Hub Freemium V1",
    LoadingTitle = "Niagra Hub V1",
    LoadingSubtitle = "by Ono Kai Ry",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = nil,
        FileName = "Big Hub"
    },
    Discord = {
        Enabled = false,
        Invite = "noinvitelink",
        RememberJoins = true
    },
    KeySystem = true,
    KeySettings = {
        Title = "Niagra Hub Key System V1",
        Subtitle = "Key System",
        Note = "The key is in our discord https://discord.gg/B3zsUpYS!",
        FileName = "Key",
        SaveKey = true,
        GrabKeyFromSite = false,
        Key = {"NIAGRA"}
    }
})

local MainTab = Window:CreateTab("All Body Reach", 4483362458)
local Section = MainTab:CreateSection("Reach")

local Button = MainTab:CreateButton({
    Name = "Reach (WIP Bruh)",
    Callback = function()
        touchBall()
				reachBalls()
    end,
})
