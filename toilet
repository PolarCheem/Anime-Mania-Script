if game.PlaceId == 1597763879 or game.PlaceId == 335760407 then
    local lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/PolarCheem/Duck-UI/refs/heads/main/aaa"))()
    local win = lib:Create("TPS Street Soccer")
    local tab1 = win:tab("Arm & Leg", true)
    local tab2 = win:tab("Chest & Head", false)
    local tab3 = win:tab("Shots", false)
    local tab4 = win:tab("React", false)

		local gkreact = false
		local gkdistance = 20
    local power = false
    local blue = false
    local player = game.Players.LocalPlayer
    local legreach = false
    local LegdistanceThreshold = 1
    local armreach = false
    local ArmdistanceThreshold = 1
    local headreach = false
    local HeaddistanceThreshold = 1
    local chestreach = false
    local ChestdistanceThreshold = 1
    local leftLeg, rightLeg, ball, head, chest, leftArm, rightArm

    local function setupCharacter()
        local char = player.Character or player.CharacterAdded:Wait()
        leftLeg = char:WaitForChild("Left Leg") or char:WaitForChild("LeftFoot")
        rightLeg = char:WaitForChild("Right Leg") or char:WaitForChild("RightFoot")
        ball = workspace.TPSSystem.TPS
        rightArm = char:WaitForChild("Right Arm") or char:WaitForChild("RightHand")
        leftArm = char:WaitForChild("Left Arm") or char:WaitForChild("LeftHand")
        head = char:WaitForChild("Head")
        chest = char:WaitForChild("Torso") or char:WaitForChild("UpperTorso")
    end

    local function checkLegs()
        while legreach do
            task.wait(0)
            local distanceToLeftLeg = (ball.Position - leftLeg.Position).Magnitude
            local distanceToRightLeg = (ball.Position - rightLeg.Position).Magnitude

            if distanceToLeftLeg <= LegdistanceThreshold then
                firetouchinterest(leftLeg, ball, 0)
                firetouchinterest(leftLeg, ball, 1)
            end

            if distanceToRightLeg <= LegdistanceThreshold then
                firetouchinterest(rightLeg, ball, 0)
                firetouchinterest(rightLeg, ball, 1)
            end
        end
    end

    local function checkArms()
        while armreach do
            task.wait(0)
            local distanceToLeftArm = (ball.Position - leftArm.Position).Magnitude
            local distanceToRightArm = (ball.Position - rightArm.Position).Magnitude

            if distanceToLeftArm <= ArmdistanceThreshold then
                firetouchinterest(leftArm, ball, 0)
                firetouchinterest(leftArm, ball, 1)
            end

            if distanceToRightArm <= ArmdistanceThreshold then
                firetouchinterest(rightArm, ball, 0)
                firetouchinterest(rightArm, ball, 1)
            end
        end
    end

    local function checkHead()
        while headreach do
            task.wait(0)
            local distanceToHead = (ball.Position - head.Position).Magnitude

            if distanceToHead <= HeaddistanceThreshold then
                firetouchinterest(head, ball, 0)
                firetouchinterest(head, ball, 1)
            end
        end
    end

    local function checkChest()
        while chestreach do
            task.wait(0)
            local distanceToChest = (ball.Position - chest.Position).Magnitude

            if distanceToChest <= ChestdistanceThreshold then
                firetouchinterest(chest, ball, 0)
                firetouchinterest(chest, ball, 1)
            end
        end
    end

    local function blueFlamesLoop()
        while true do
            if blue then
                player.Backpack.FValue.Value = 10
            end
            task.wait(0.1)
        end
    end

    local function powerShotLoop()
        while true do
            if power then
                player.Backpack.PowerActive.Value = true
            end
            task.wait(0.1)
        end
    end

local isTouchingFix = false
local teamName = player.Team.Name

local function setupTouchDetection()
    local function onTouch(part)
        if part:IsDescendantOf(player.Character) then
            if teamName == "Blue" then
                if part:IsDescendantOf(workspace.GKSystem.Fix1) then
                    isTouchingFix = true
                end
            elseif teamName == "Red" then
                if part:IsDescendantOf(workspace.GKSystem.Fix2) then
                    isTouchingFix = true
                end
            end
        end
    end

    local function onTouchEnd(part)
        if part:IsDescendantOf(player.Character) then
            isTouchingFix = false
        end
    end

    workspace.GKSystem.Fix1.Touched:Connect(onTouch)
    workspace.GKSystem.Fix2.Touched:Connect(onTouch)
    workspace.GKSystem.Fix1.TouchEnded:Connect(onTouchEnd)
    workspace.GKSystem.Fix2.TouchEnded:Connect(onTouchEnd)
end

local function gkReact()
    while gkreact do
        task.wait(0)
        if isTouchingFix then
            local distanceToRightGK = (ball.Position - rightLeg.Position).Magnitude

            if distanceToRightGK <= gkdistance then
                local args = {
                    [1] = workspace.TPSSystem.TPS,
                    [2] = game:GetService("Players").LocalPlayer.Character:FindFirstChild("Right Leg")
                }

                workspace.FE.Actions.SaveRL:FireServer(unpack(args))
            end
        end
    end
end

setupTouchDetection()



    task.spawn(blueFlamesLoop)
    task.spawn(powerShotLoop)

    tab1:toggle("Leg Toggle", false, function(v)
        legreach = v
        if v then
            checkLegs()
        end
    end)

    tab1:input("Distance (Legs)", "...", false, function(v)
    local num = tonumber(v)
    if num and num > 0 then
        LegdistanceThreshold = num
    end
end)

tab1:toggle("Arms Toggle", false, function(v)
    armreach = v
    if v then
        checkArms()
    end
end)

tab1:input("Distance (Arms)", "...", false, function(v)
    local num = tonumber(v)
    if num and num > 0 then
        ArmdistanceThreshold = num
    end
end)

tab2:toggle("Head Toggle", false, function(v)
    headreach = v
    if v then
        checkHead()
    end
end)

tab2:input("Distance (Head)", "...", false, function(v)
    local num = tonumber(v)
    if num and num > 0 then
        HeaddistanceThreshold = num
    end
end)

tab2:toggle("Chest Toggle", false, function(v)
    chestreach = v
    if v then
        checkChest()
    end
end)

tab2:input("Distance (Chest)", "...", false, function(v)
    local num = tonumber(v)
    if num and num > 0 then
        ChestdistanceThreshold = num
    end
end)

tab3:toggle("Power Shot", false, function(v)
    power = v
end)

tab3:toggle("Blue Flames", false, function(v)
    blue = v
end)

tab4:toggle("GK React", false, function(v)
    gkreact = v
    if v then
        gkReact()
    end
end)

tab4:input("Distance (GK)", "...", false, function(v)
    local num = tonumber(v)
    if num and num > 0 then
        gkdistance = num
    end
end)

setupCharacter()
player.CharacterAdded:Connect(function()
    setupCharacter()
    if legreach then checkLegs() end
    if armreach then checkArms() end
    if headreach then checkHead() end
    if chestreach then checkChest() end

    if blue then
        task.spawn(blueFlamesLoop)
    end
    if power then
        task.spawn(powerShotLoop)
    end
		if gkreact then gkReact() end
end)
end